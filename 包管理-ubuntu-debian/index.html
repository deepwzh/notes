<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>包管理-Ubuntu/Debian | deepwzh的技术笔记</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.ico">
    <script>
        // var _hmt = _hmt || [];
        // (function() {
        //   var hm = document.createElement("script");
        //   hm.src = "https://hm.baidu.com/hm.js?2675818a983a3131404cee835018f016";
        //   var s = document.getElementsByTagName("script")[0];
        //   s.parentNode.insertBefore(hm, s);
        // })();
      </script>
    <meta name="description" content="贴心的编程学习路线，全面的编程知识百科">
    <meta property="og:site_name" content="deepwzh的技术笔记">
    <meta property="og:title" content="包管理-Ubuntu/Debian">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://codefather.cn/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/">
    <meta name="twitter:title" content="包管理-Ubuntu/Debian">
    <meta name="twitter:url" content="https://codefather.cn/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="程序员, 编程, 计算机">
    <meta property="article:tag" content="程序员">
    <meta name="keywords" content="deepwzh, 技术笔记, 前端, 开发, 编程分享">
    
    <link rel="preload" href="/assets/css/0.styles.4b86350a.css" as="style"><link rel="preload" href="/assets/js/app.f7042d66.js" as="script"><link rel="preload" href="/assets/js/2.fb9fe582.js" as="script"><link rel="preload" href="/assets/js/31.ce22c827.js" as="script"><link rel="prefetch" href="/assets/js/1.772e8449.js"><link rel="prefetch" href="/assets/js/10.40b6837e.js"><link rel="prefetch" href="/assets/js/11.78a8555f.js"><link rel="prefetch" href="/assets/js/12.a6f096db.js"><link rel="prefetch" href="/assets/js/13.8352f638.js"><link rel="prefetch" href="/assets/js/14.c7dc96c5.js"><link rel="prefetch" href="/assets/js/15.970a8ca5.js"><link rel="prefetch" href="/assets/js/16.ac3baac4.js"><link rel="prefetch" href="/assets/js/17.c186ca40.js"><link rel="prefetch" href="/assets/js/18.d0f0bd51.js"><link rel="prefetch" href="/assets/js/19.5740e4d6.js"><link rel="prefetch" href="/assets/js/20.8885a4fa.js"><link rel="prefetch" href="/assets/js/21.2a33c70e.js"><link rel="prefetch" href="/assets/js/22.3e8347a6.js"><link rel="prefetch" href="/assets/js/23.ceb5a5ff.js"><link rel="prefetch" href="/assets/js/24.70a38b70.js"><link rel="prefetch" href="/assets/js/25.15e1f641.js"><link rel="prefetch" href="/assets/js/26.35b2bbdc.js"><link rel="prefetch" href="/assets/js/27.9500b440.js"><link rel="prefetch" href="/assets/js/28.2eda50f6.js"><link rel="prefetch" href="/assets/js/29.fce90abf.js"><link rel="prefetch" href="/assets/js/3.4dc033c7.js"><link rel="prefetch" href="/assets/js/30.d905e0c5.js"><link rel="prefetch" href="/assets/js/32.783bf1bf.js"><link rel="prefetch" href="/assets/js/33.895e683c.js"><link rel="prefetch" href="/assets/js/34.d3f0cf48.js"><link rel="prefetch" href="/assets/js/4.2f502b73.js"><link rel="prefetch" href="/assets/js/5.7b1f056c.js"><link rel="prefetch" href="/assets/js/6.056886f1.js"><link rel="prefetch" href="/assets/js/7.a96cecf9.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.9f962556.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4b86350a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="deepwzh的技术笔记" class="logo"> <span class="site-name can-hide">deepwzh的技术笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/计算机网络/" class="nav-link">
  计算机网络
</a></div><div class="nav-item"><a href="/云原生/" class="nav-link">
  云原生
</a></div><div class="nav-item"><a href="/操作系统/" class="nav-link">
  操作系统
</a></div><div class="nav-item"><a href="/关于作者/" class="nav-link">
  关于作者
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/计算机网络/" class="nav-link">
  计算机网络
</a></div><div class="nav-item"><a href="/云原生/" class="nav-link">
  云原生
</a></div><div class="nav-item"><a href="/操作系统/" class="nav-link">
  操作系统
</a></div><div class="nav-item"><a href="/关于作者/" class="nav-link">
  关于作者
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" class="sidebar-link">操作系统</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Linux</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/linux/" class="sidebar-link">Linux</a></li><li><a href="/dns%E9%85%8D%E7%BD%AE/" class="sidebar-link">DNS配置</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>包管理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/%E5%8C%85%E7%AE%A1%E7%90%86/" class="sidebar-link">包管理</a></li><li><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/" aria-current="page" class="active sidebar-link">包管理-Ubuntu_Debian</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#概述" class="sidebar-link">概述</a></li><li class="sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#配置" class="sidebar-link">配置</a></li><li class="sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#dpkg-相关命令" class="sidebar-link">dpkg 相关命令</a></li><li class="sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#apt-相关命令" class="sidebar-link">apt 相关命令</a></li></ul></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="content"><div style="width:100%"><div class="theme-default-content custom-content content__default"><h1 id="包管理-ubuntu-debian"><a href="#包管理-ubuntu-debian" class="header-anchor">#</a> 包管理-Ubuntu/Debian</h1> <h2 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h2> <p>在 Debian 系 Linux 发行版（如 Ubuntu），<code>APT</code> (Advanced Package Tool) 最常用的高级包管理工具(Ubuntu、Debian 系发行版），他使用 DEB 作为软件包格式。</p> <p><code>DEB</code>（Debian Package）是 Debian 系 Linux 发行版（如 Ubuntu）中软件包管理的核心组件。Deb 包通过 Dpkg 工具进行安装。</p> <p>它们的关系如下：</p> <ul><li><code>Deb</code> 是包格式</li> <li><code>Dpkg</code> 用于包的操作安装</li> <li><code>Apt</code> 会调用 <code>Dpkg</code> 进行包的安装，并解决依赖问题</li></ul> <h2 id="配置"><a href="#配置" class="header-anchor">#</a> 配置</h2> <p>镜像源配置地址：/etc/apt/source.list</p> <p>在 Ubuntu24.04，配置格式做了一次升级</p> <h3 id="镜像源替换"><a href="#镜像源替换" class="header-anchor">#</a> 镜像源替换</h3> <p>Ubuntu24.04-</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'s/archive.ubuntu.com/mirrors.aliyun.com/g'</span> /etc/apt/sources.list
<span class="token comment"># 或者</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">'s|http://deb.debian.org/debian|https://mirrors.tuna.tsinghua.edu.cn/debian|g'</span> /etc/apt/sources.list
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Ubuntu24.04+</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>sed -i &quot;s@http://.*archive.ubuntu.com@https://mirrors.aliyun.com@g; s@http://.*security.ubuntu.com@https://mirrors.aliyun.com@g&quot; /etc/apt/sources.list.d/ubuntu.sources
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="dpkg-相关命令"><a href="#dpkg-相关命令" class="header-anchor">#</a> dpkg 相关命令</h2> <h3 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 安装</span>
<span class="token function">sudo</span> dpkg <span class="token parameter variable">-i</span> package.deb
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="卸载"><a href="#卸载" class="header-anchor">#</a> 卸载</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 卸载</span>
<span class="token function">sudo</span> dpkg <span class="token parameter variable">-r</span> package_name
<span class="token comment"># 完全卸载</span>
<span class="token function">sudo</span> dpkg <span class="token parameter variable">-P</span> package_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="查询信息"><a href="#查询信息" class="header-anchor">#</a> <strong>查询信息</strong></h3> <ul><li><strong>列出已安装的包</strong><div class="language-bash line-numbers-mode"><pre class="language-bash"><code></code></pre> <div class="line-numbers-wrapper"></div></div></li></ul> <p>dpkg -l</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
- **查看包状态（如版本、依赖）**  
	```bash
dpkg -s package_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><strong>列出包安装的文件</strong><div class="language-bash line-numbers-mode"><pre class="language-bash"><code></code></pre> <div class="line-numbers-wrapper"></div></div></li></ul> <p>dpkg -L package_name</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
- **搜索文件所属的包**  
	```bash
dpkg -S /path/to/file
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="包内容检查"><a href="#包内容检查" class="header-anchor">#</a> <strong>包内容检查</strong></h3> <ul><li>**查看 <strong><strong>.deb</strong></strong> **文件内容<div class="language-bash line-numbers-mode"><pre class="language-bash"><code></code></pre> <div class="line-numbers-wrapper"></div></div></li></ul> <p>dpkg -c package.deb</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
- **提取包元信息**  
	```bash
dpkg -I package.deb
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项</h3> <ul><li><code>dpkg</code> 不自动解决依赖，若安装失败可运行 <code>sudo apt-get -f install</code> 修复。</li> <li>日常推荐优先使用 <code>apt</code>/<code>apt-get</code>，<code>dpkg</code> 更适合手动管理本地包。</li></ul> <h2 id="apt-相关命令"><a href="#apt-相关命令" class="header-anchor">#</a> apt 相关命令</h2> <h3 id="包查询与搜索"><a href="#包查询与搜索" class="header-anchor">#</a> 包查询与搜索</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 搜索包名称</span>
<span class="token function">sudo</span> <span class="token function">apt</span> search package_name

<span class="token comment"># 查看可以升级的包</span>
<span class="token function">sudo</span> <span class="token function">apt</span> list <span class="token parameter variable">--upgradeable</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="更新镜像源"><a href="#更新镜像源" class="header-anchor">#</a> 更新镜像源</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> update
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="升级已经安装的包"><a href="#升级已经安装的包" class="header-anchor">#</a> 升级已经安装的包</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> upgrade
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="查看包信息"><a href="#查看包信息" class="header-anchor">#</a> 查看包信息</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 查看包内容</span>
<span class="token function">sudo</span> <span class="token function">apt</span> show package_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="保持包-禁止其版本更新"><a href="#保持包-禁止其版本更新" class="header-anchor">#</a> 保持包（禁止其版本更新）</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> apt-mark hold package_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="下载源码包"><a href="#下载源码包" class="header-anchor">#</a> 下载源码包</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token builtin class-name">source</span> package_name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="清理维护"><a href="#清理维护" class="header-anchor">#</a> 清理维护</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 清理缓存包</span>
<span class="token function">sudo</span> <span class="token function">apt</span> clean
<span class="token comment"># 只清理旧版本的缓存包</span>
<span class="token function">sudo</span> <span class="token function">apt</span> autoclean
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>例如命令用于在基于 Debian 的 Linux 发行版（如 Ubuntu）上将 kubelet、kubeadm 和 kubectl 这三个 Kubernetes 组件的包标记为“保持”状态。这样做的目的是防止这些包在系统更新时被自动升级。</p> <p>/</p></div> <footer class="page-edit" style="margin:0;"><!----> <!----></footer> <!----></div> <div class="toc-container-sidebar"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="max-height:86vh"><div style="font-weight:bold;">包管理-Ubuntu/Debian</div> <hr> <div class="toc-box"><ul class="toc-sidebar-links"><li><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#概述" class="toc-sidebar-link">概述</a><ul class="toc-sidebar-sub-headers"></ul></li><li><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#配置" class="toc-sidebar-link">配置</a><ul class="toc-sidebar-sub-headers"><li class="toc-sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#镜像源替换" class="toc-sidebar-link">镜像源替换</a></li></ul></li><li><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#dpkg-相关命令" class="toc-sidebar-link">dpkg 相关命令</a><ul class="toc-sidebar-sub-headers"><li class="toc-sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#安装" class="toc-sidebar-link">安装</a></li><li class="toc-sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#卸载" class="toc-sidebar-link">卸载</a></li><li class="toc-sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#查询信息" class="toc-sidebar-link">查询信息</a></li><li class="toc-sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#包内容检查" class="toc-sidebar-link">包内容检查</a></li><li class="toc-sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#注意事项" class="toc-sidebar-link">注意事项</a></li></ul></li><li><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#apt-相关命令" class="toc-sidebar-link">apt 相关命令</a><ul class="toc-sidebar-sub-headers"><li class="toc-sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#包查询与搜索" class="toc-sidebar-link">包查询与搜索</a></li><li class="toc-sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#更新镜像源" class="toc-sidebar-link">更新镜像源</a></li><li class="toc-sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#升级已经安装的包" class="toc-sidebar-link">升级已经安装的包</a></li><li class="toc-sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#查看包信息" class="toc-sidebar-link">查看包信息</a></li><li class="toc-sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#保持包-禁止其版本更新" class="toc-sidebar-link">保持包（禁止其版本更新）</a></li><li class="toc-sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#下载源码包" class="toc-sidebar-link">下载源码包</a></li><li class="toc-sidebar-sub-header"><a href="/%E5%8C%85%E7%AE%A1%E7%90%86-ubuntu-debian/#清理维护" class="toc-sidebar-link">清理维护</a></li></ul></li></ul></div></div></div></div></div>  <main class="footer"> <div class="copy-right"><span class="name"> deepwzh的技术笔记   |     </span> <a target="_blank" rel="noreferrer">
          
        </a></div></main></main> <aside class="page-sidebar"> <div class="page-side-toolbar"></div>  </aside></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.f7042d66.js" defer></script><script src="/assets/js/2.fb9fe582.js" defer></script><script src="/assets/js/31.ce22c827.js" defer></script>
  </body>
</html>
