(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{324:function(t,v,o){"use strict";o.r(v);var e=o(4),_=Object(e.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"dns-配置"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#dns-配置"}},[t._v("#")]),t._v(" DNS 配置")]),t._v(" "),v("h2",{attrs:{id:"概述"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),v("p",[t._v("Linux dns 配置主要由 "),v("code",[t._v("/etc/resolve.conf")]),t._v(" 负责")]),t._v(" "),v("h2",{attrs:{id:"etc-resolve-conf"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#etc-resolve-conf"}},[t._v("#")]),t._v(" /etc/resolve.conf")]),t._v(" "),v("p",[t._v("在 Linux 系统中，"),v("code",[t._v("/etc/resolv.conf")]),t._v(" 文件用于配置 DNS 解析器的行为，其中的 "),v("code",[t._v("options")]),t._v(" 字段允许你调整 DNS 查询的一些参数。")]),t._v(" "),v("p",[t._v("以下是一些常用的 "),v("code",[t._v("options")]),t._v(" 选项及其作用：")]),t._v(" "),v("ol",[v("li",[v("strong",[t._v("debug")]),t._v("：启用调试模式，会将调试信息输出到系统日志中。这通常用于排查 DNS 解析问题。")])]),t._v(" "),v("p",[t._v("• 示例："),v("code",[t._v("options debug")])]),t._v(" "),v("ol",[v("li",[v("strong",[t._v("ndots:n")]),t._v("：设置域名中必须包含的点号数量阈值，以决定是否优先进行绝对查询。默认值为 1，意味着如果域名中包含至少一个点号，解析器会先尝试将其作为绝对域名查询，然后再尝试与 "),v("code",[t._v("search")]),t._v(" 列表中的域名拼接。")])]),t._v(" "),v("p",[t._v("• 示例："),v("code",[t._v("options ndots:2")])]),t._v(" "),v("ol",[v("li",[v("strong",[t._v("timeout:n")]),t._v("：设置 DNS 查询的超时时间（以秒为单位）。如果在指定时间内未收到响应，解析器会尝试下一个 DNS 服务器。")])]),t._v(" "),v("p",[t._v("• 示例："),v("code",[t._v("options timeout:2")])]),t._v(" "),v("ol",[v("li",[v("strong",[t._v("attempts:n")]),t._v("：设置每个 DNS 服务器发送查询的最大尝试次数。如果所有尝试都失败，解析器会尝试下一个 DNS 服务器。")])]),t._v(" "),v("p",[t._v("• 示例："),v("code",[t._v("options attempts:3")])]),t._v(" "),v("ol",[v("li",[v("strong",[t._v("rotate")]),t._v("：启用 DNS 服务器的轮询机制。默认情况下，解析器会按顺序查询 DNS 服务器。启用此选项后，解析器会随机选择一个 DNS 服务器进行查询，以实现负载均衡。")])]),t._v(" "),v("p",[t._v("• 示例："),v("code",[t._v("options rotate")])]),t._v(" "),v("ol",[v("li",[v("strong",[t._v("no-check-names")]),t._v("：禁用对主机名的检查。默认情况下，解析器会检查主机名是否符合 RFC 标准，启用此选项后会跳过此检查。")])]),t._v(" "),v("p",[t._v("• 示例："),v("code",[t._v("options no-check-names")])]),t._v(" "),v("ol",[v("li",[v("strong",[t._v("inet6")]),t._v("：启用 IPv6 支持。如果系统需要解析 IPv6 地址，可以启用此选项。")])]),t._v(" "),v("p",[t._v("• 示例："),v("code",[t._v("options inet6")])]),t._v(" "),v("p",[t._v("这些选项可以根据实际需求进行组合使用，以优化 DNS 解析的性能和行为。例如，你可以同时设置超时时间和尝试次数：")]),t._v(" "),v("div",{staticClass:"language- line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v("options timeout:2 attempts:3\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br")])]),v("p",[t._v("需要注意的是，某些 Linux 发行版可能会通过其他工具（如 "),v("code",[t._v("systemd-resolved")]),t._v(" 或 "),v("code",[t._v("NetworkManager")]),t._v("）动态管理 "),v("code",[t._v("/etc/resolv.conf")]),t._v(" 文件，直接修改可能会被覆盖。因此，建议通过系统网络配置文件进行持久化配置。")])])}),[],!1,null,null,null);v.default=_.exports}}]);