import{_ as e,c as s,a as n,o as i}from"./app-BNx8wf2R.js";const l="/wiki/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Linux/static/E617bEOSaoYChFxzFDYcuS9Enoh.png",t={};function r(d,a){return i(),s("div",null,a[0]||(a[0]=[n('<h1 id="问题排查" tabindex="-1"><a class="header-anchor" href="#问题排查"><span>问题排查</span></a></h1><h2 id="磁盘分析工具" tabindex="-1"><a class="header-anchor" href="#磁盘分析工具"><span>磁盘分析工具</span></a></h2><p>ncdu</p><p><img src="'+l+`" alt=""></p><h2 id="查看当前正在使用的读写句柄" tabindex="-1"><a class="header-anchor" href="#查看当前正在使用的读写句柄"><span>查看当前正在使用的读写句柄</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">lsof</span> +L1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="清除正在占用文件句柄的空间" tabindex="-1"><a class="header-anchor" href="#清除正在占用文件句柄的空间"><span>清除正在占用文件句柄的空间</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">sudo</span> truncate <span class="token parameter variable">-s</span> <span class="token number">0</span> path</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果这个文件已经删除过了，可以通过 lsof +L1 找到这个文件的 fd 和对应进程的 pid，然后进行</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">sudo</span> truncate <span class="token parameter variable">-s</span> <span class="token number">0</span> /proc/pid/fd/xxx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,10)]))}const p=e(t,[["render",r]]),o=JSON.parse('{"path":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Linux/%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5.html","title":"问题排查","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"磁盘分析工具","slug":"磁盘分析工具","link":"#磁盘分析工具","children":[]},{"level":2,"title":"查看当前正在使用的读写句柄","slug":"查看当前正在使用的读写句柄","link":"#查看当前正在使用的读写句柄","children":[]},{"level":2,"title":"清除正在占用文件句柄的空间","slug":"清除正在占用文件句柄的空间","link":"#清除正在占用文件句柄的空间","children":[]}],"git":{},"filePathRelative":"操作系统/Linux/问题排查.md"}');export{p as comp,o as data};
