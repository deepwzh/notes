import{_ as o,c as t,a as n,o as s}from"./app-DbdC6nwX.js";const c={};function l(i,e){return s(),t("div",null,e[0]||(e[0]=[n(`<h1 id="dns-配置" tabindex="-1"><a class="header-anchor" href="#dns-配置"><span>DNS 配置</span></a></h1><h2 id="概述" tabindex="-1"><a class="header-anchor" href="#概述"><span>概述</span></a></h2><p>Linux dns 配置主要由 <code>/etc/resolve.conf</code> 负责</p><h2 id="etc-resolve-conf" tabindex="-1"><a class="header-anchor" href="#etc-resolve-conf"><span>/etc/resolve.conf</span></a></h2><p>在 Linux 系统中，<code>/etc/resolv.conf</code> 文件用于配置 DNS 解析器的行为，其中的 <code>options</code> 字段允许你调整 DNS 查询的一些参数。</p><p>以下是一些常用的 <code>options</code> 选项及其作用：</p><ol><li><strong>debug</strong>：启用调试模式，会将调试信息输出到系统日志中。这通常用于排查 DNS 解析问题。</li></ol><p>• 示例：<code>options debug</code></p><ol><li><strong>ndots:n</strong>：设置域名中必须包含的点号数量阈值，以决定是否优先进行绝对查询。默认值为 1，意味着如果域名中包含至少一个点号，解析器会先尝试将其作为绝对域名查询，然后再尝试与 <code>search</code> 列表中的域名拼接。</li></ol><p>• 示例：<code>options ndots:2</code></p><ol><li><strong>timeout:n</strong>：设置 DNS 查询的超时时间（以秒为单位）。如果在指定时间内未收到响应，解析器会尝试下一个 DNS 服务器。</li></ol><p>• 示例：<code>options timeout:2</code></p><ol><li><strong>attempts:n</strong>：设置每个 DNS 服务器发送查询的最大尝试次数。如果所有尝试都失败，解析器会尝试下一个 DNS 服务器。</li></ol><p>• 示例：<code>options attempts:3</code></p><ol><li><strong>rotate</strong>：启用 DNS 服务器的轮询机制。默认情况下，解析器会按顺序查询 DNS 服务器。启用此选项后，解析器会随机选择一个 DNS 服务器进行查询，以实现负载均衡。</li></ol><p>• 示例：<code>options rotate</code></p><ol><li><strong>no-check-names</strong>：禁用对主机名的检查。默认情况下，解析器会检查主机名是否符合 RFC 标准，启用此选项后会跳过此检查。</li></ol><p>• 示例：<code>options no-check-names</code></p><ol><li><strong>inet6</strong>：启用 IPv6 支持。如果系统需要解析 IPv6 地址，可以启用此选项。</li></ol><p>• 示例：<code>options inet6</code></p><p>这些选项可以根据实际需求进行组合使用，以优化 DNS 解析的性能和行为。例如，你可以同时设置超时时间和尝试次数：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">options timeout:2 attempts:3</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>需要注意的是，某些 Linux 发行版可能会通过其他工具（如 <code>systemd-resolved</code> 或 <code>NetworkManager</code>）动态管理 <code>/etc/resolv.conf</code> 文件，直接修改可能会被覆盖。因此，建议通过系统网络配置文件进行持久化配置。</p>`,23)]))}const a=o(c,[["render",l]]),r=JSON.parse('{"path":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Linux/DNS%E9%85%8D%E7%BD%AE.html","title":"DNS 配置","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"概述","slug":"概述","link":"#概述","children":[]},{"level":2,"title":"/etc/resolve.conf","slug":"etc-resolve-conf","link":"#etc-resolve-conf","children":[]}],"git":{},"filePathRelative":"操作系统/Linux/DNS配置.md"}');export{a as comp,r as data};
